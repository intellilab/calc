!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function r(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return u(" ")}function f(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t){return""===t?null:+t}function p(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}function v(t,e){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e)return void(i.selected=!0)}t.selectedIndex=-1}let x;function b(t){x=t}const $=[],y=[],F=[],_=[],k=Promise.resolve();let E=!1;function w(t){F.push(t)}const T=new Set;let C=0;function B(){const t=x;do{for(;C<$.length;){const t=$[C];C++,b(t),R(t.$$)}for(b(null),$.length=0,C=0;y.length;)y.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];T.has(e)||(T.add(e),e())}F.length=0}while($.length);for(;_.length;)_.pop()();E=!1,T.clear(),b(t)}function R(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const S=new Set;function A(t,e){-1===t.$$.dirty[0]&&($.push(t),E||(E=!0,k.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(s,l,c,r,u,d,f,m=[-1]){const h=x;b(s);const p=s.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(h?h.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:l.target||h.$$.root};f&&f(p.root);let g=!1;if(p.ctx=c?c(s,l.props||{},((t,e,...n)=>{const i=n.length?n[0]:e;return p.ctx&&u(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),g&&A(s,t)),e})):[],p.update(),g=!0,i(p.before_update),p.fragment=!!r&&r(p.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();l.intro&&(v=s.$$.fragment)&&v.i&&(S.delete(v),v.i(undefined)),function(t,n,s,l){const{fragment:c,on_mount:a,on_destroy:r,after_update:u}=t.$$;c&&c.m(n,s),l||w((()=>{const n=a.map(e).filter(o);r?r.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(w)}(s,l.target,l.anchor,l.customElement),B()}var v;b(h)}function D(t,e,n){const i=t.slice();return i[10]=e[n],i}function L(e){let n,i,o=e[10].label+"";return{c(){n=r("option"),i=u(o),n.__value=e[10].value,n.value=n.__value},m(t,e){c(t,n,e),l(n,i)},p:t,d(t){t&&a(n)}}}function M(t){let e;return{c(){e=r("div"),e.textContent="（卖出股票时征收印花税 0.1%）",m(e,"class","hint")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function j(t){let e;return{c(){e=r("div"),e.textContent="（上证股票交易收过户费 0.001%）",m(e,"class","hint")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function N(e){let n,o,s,x,b,$,y,F,_,k,E,T,C,B,R,S,A,H,N,O,q,G,I,P,Z,z,J,K,Q,U,V,W,X,Y,tt,et,nt,it,ot,st,lt,ct,at,rt,ut,dt,ft,mt,ht,pt,gt,vt,xt,bt,$t,yt,Ft,_t,kt,Et,wt,Tt,Ct,Bt,Rt,St,At,Ht,Dt,Lt,Mt,jt,Nt,Ot,qt,Gt,It,Pt,Zt,zt,Jt,Kt,Qt,Ut,Vt,Wt,Xt,Yt,te,ee,ne,ie,oe,se,le=e[1].totalFee.toFixed(2)+"",ce=e[1].commission.toFixed(2)+"",ae=e[1].exchangeFee.toFixed(2)+"",re=e[1].stampDuty.toFixed(2)+"",ue=e[1].transferFee.toFixed(2)+"",de=e[2],fe=[];for(let t=0;t<de.length;t+=1)fe[t]=L(D(e,de,t));let me=!e[0].isBuying&&!e[0].isETF&&M(),he="SH"===e[0].target&&!e[0].isETF&&j();return{c(){n=r("div"),o=r("header"),o.innerHTML='<h1 class="text-3xl">股票交易手续费</h1> \n\n    <a class="ml-4" href="https://github.com/intellilab/calc"><img src="https://img.shields.io/github/stars/intellilab/calc?style=social"/></a>',s=d(),x=r("section"),b=r("div"),$=r("div"),$.textContent="交易对象：",y=d(),F=r("div"),_=r("select");for(let t=0;t<fe.length;t+=1)fe[t].c();k=d(),E=r("div"),T=r("div"),T.textContent="交易类型：",C=d(),B=r("div"),R=r("label"),S=r("input"),A=u(" 买入"),H=d(),N=r("label"),O=r("input"),q=u(" ETF"),G=d(),I=r("div"),P=r("div"),P.textContent="成交价：",Z=d(),z=r("div"),J=r("input"),K=u("元"),Q=d(),U=r("div"),V=r("div"),V.textContent="成交量：",W=d(),X=r("div"),Y=r("input"),tt=u("手"),et=d(),nt=r("div"),it=r("div"),it.textContent="佣金：",ot=d(),st=r("div"),lt=r("input"),ct=u("%"),at=d(),rt=r("div"),ut=r("div"),ut.textContent="最低佣金：",dt=d(),ft=r("div"),mt=r("input"),ht=u("元"),pt=d(),gt=r("section"),vt=r("div"),xt=r("div"),xt.textContent="总费用：",bt=d(),$t=r("div"),yt=u(le),Ft=u("\n      元"),_t=d(),kt=r("div"),Et=r("div"),Et.textContent="佣金：",wt=d(),Tt=r("div"),Ct=r("span"),Bt=u(ce),Rt=u("元"),St=d(),At=r("div"),Ht=r("div"),Ht.textContent="交易所规费：",Dt=d(),Lt=r("div"),Mt=r("span"),jt=u(ae),Nt=u("元\n        "),Ot=r("div"),Ot.textContent="（0.00687%）",qt=d(),Gt=r("div"),It=r("div"),It.textContent="印花税：",Pt=d(),Zt=r("div"),zt=r("span"),Jt=u(re),Kt=u("元\n        "),me&&me.c(),Qt=d(),Ut=r("div"),Vt=r("div"),Vt.textContent="过户费：",Wt=d(),Xt=r("div"),Yt=r("span"),te=u(ue),ee=u("元\n        "),he&&he.c(),ne=d(),ie=r("footer"),ie.innerHTML='Designed by <a href="https://gera2ld.space/" target="_blank" rel="noopener">Gerald</a> with ❤️',m(o,"class","flex mt-3 mb-6 items-center"),m($,"class","label"),void 0===e[0].target&&w((()=>e[3].call(_))),m(F,"class","flex"),m(b,"class","row"),m(T,"class","label"),m(S,"type","checkbox"),m(R,"class","mr-2"),m(O,"type","checkbox"),m(B,"class","flex items-center"),m(E,"class","row"),m(P,"class","label"),m(J,"type","number"),m(J,"step","0.01"),m(z,"class","flex"),m(I,"class","row"),m(V,"class","label"),m(Y,"type","number"),m(X,"class","flex"),m(U,"class","row"),m(it,"class","label"),m(lt,"type","number"),m(lt,"step","0.01"),m(st,"class","flex"),m(nt,"class","row"),m(ut,"class","label"),m(mt,"type","number"),m(ft,"class","flex"),m(rt,"class","row"),m(xt,"class","label"),m(vt,"class","row"),m(Et,"class","label"),m(kt,"class","row"),m(Ht,"class","label"),m(Ot,"class","hint"),m(At,"class","row"),m(It,"class","label"),m(Gt,"class","row"),m(Vt,"class","label"),m(Ut,"class","row"),m(n,"class","max-w-screen-sm mx-auto px-4 flex flex-col items-stretch")},m(t,i){c(t,n,i),l(n,o),l(n,s),l(n,x),l(x,b),l(b,$),l(b,y),l(b,F),l(F,_);for(let t=0;t<fe.length;t+=1)fe[t].m(_,null);v(_,e[0].target),l(x,k),l(x,E),l(E,T),l(E,C),l(E,B),l(B,R),l(R,S),S.checked=e[0].isBuying,l(R,A),l(B,H),l(B,N),l(N,O),O.checked=e[0].isETF,l(N,q),l(x,G),l(x,I),l(I,P),l(I,Z),l(I,z),l(z,J),g(J,e[0].price),l(z,K),l(x,Q),l(x,U),l(U,V),l(U,W),l(U,X),l(X,Y),g(Y,e[0].amount),l(X,tt),l(x,et),l(x,nt),l(nt,it),l(nt,ot),l(nt,st),l(st,lt),g(lt,e[0].commissionRate),l(st,ct),l(x,at),l(x,rt),l(rt,ut),l(rt,dt),l(rt,ft),l(ft,mt),g(mt,e[0].minFee),l(ft,ht),l(n,pt),l(n,gt),l(gt,vt),l(vt,xt),l(vt,bt),l(vt,$t),l($t,yt),l(vt,Ft),l(gt,_t),l(gt,kt),l(kt,Et),l(kt,wt),l(kt,Tt),l(Tt,Ct),l(Ct,Bt),l(Tt,Rt),l(gt,St),l(gt,At),l(At,Ht),l(At,Dt),l(At,Lt),l(Lt,Mt),l(Mt,jt),l(Lt,Nt),l(Lt,Ot),l(gt,qt),l(gt,Gt),l(Gt,It),l(Gt,Pt),l(Gt,Zt),l(Zt,zt),l(zt,Jt),l(Zt,Kt),me&&me.m(Zt,null),l(gt,Qt),l(gt,Ut),l(Ut,Vt),l(Ut,Wt),l(Ut,Xt),l(Xt,Yt),l(Yt,te),l(Xt,ee),he&&he.m(Xt,null),l(n,ne),l(n,ie),oe||(se=[f(_,"change",e[3]),f(S,"change",e[4]),f(O,"change",e[5]),f(J,"input",e[6]),f(Y,"input",e[7]),f(lt,"input",e[8]),f(mt,"input",e[9])],oe=!0)},p(t,[e]){if(4&e){let n;for(de=t[2],n=0;n<de.length;n+=1){const i=D(t,de,n);fe[n]?fe[n].p(i,e):(fe[n]=L(i),fe[n].c(),fe[n].m(_,null))}for(;n<fe.length;n+=1)fe[n].d(1);fe.length=de.length}5&e&&v(_,t[0].target),5&e&&(S.checked=t[0].isBuying),5&e&&(O.checked=t[0].isETF),5&e&&h(J.value)!==t[0].price&&g(J,t[0].price),5&e&&h(Y.value)!==t[0].amount&&g(Y,t[0].amount),5&e&&h(lt.value)!==t[0].commissionRate&&g(lt,t[0].commissionRate),5&e&&h(mt.value)!==t[0].minFee&&g(mt,t[0].minFee),2&e&&le!==(le=t[1].totalFee.toFixed(2)+"")&&p(yt,le),2&e&&ce!==(ce=t[1].commission.toFixed(2)+"")&&p(Bt,ce),2&e&&ae!==(ae=t[1].exchangeFee.toFixed(2)+"")&&p(jt,ae),2&e&&re!==(re=t[1].stampDuty.toFixed(2)+"")&&p(Jt,re),t[0].isBuying||t[0].isETF?me&&(me.d(1),me=null):me||(me=M(),me.c(),me.m(Zt,null)),2&e&&ue!==(ue=t[1].transferFee.toFixed(2)+"")&&p(te,ue),"SH"!==t[0].target||t[0].isETF?he&&(he.d(1),he=null):he||(he=j(),he.c(),he.m(Xt,null))},i:t,o:t,d(t){t&&a(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(fe,t),me&&me.d(),he&&he.d(),oe=!1,i(se)}}}function O(t,e,n){let i;const o=[{label:"上证A股",value:"SH"},{label:"深证A股",value:"SZ"}],s={market:o[0].value,isBuying:!0,price:"0.00",amount:0,commissionRate:.02,minFee:5,isETF:!1};return t.$$.update=()=>{1&t.$$.dirty&&n(1,i=function(t){const e=t.price*t.amount*100,n=e*t.commissionRate,i=687e-7*e,o=Math.max(t.minFee,n),s="buy"===t.side||t.isETF?0:.001*e,l="SH"!==t.market||t.isETF?0:1e-5*e;return{commission:n,exchangeFee:i,stampDuty:s,transferFee:l,totalFee:o+s+l}}({price:+s.price,amount:+s.amount,commissionRate:+s.commissionRate/100,minFee:+s.minFee,side:s.isBuying?"buy":"sell",market:s.market,isETF:s.isETF}))},[s,i,o,function(){s.target=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,s),n(2,o)},function(){s.isBuying=this.checked,n(0,s),n(2,o)},function(){s.isETF=this.checked,n(0,s),n(2,o)},function(){s.price=h(this.value),n(0,s),n(2,o)},function(){s.amount=h(this.value),n(0,s),n(2,o)},function(){s.commissionRate=h(this.value),n(0,s),n(2,o)},function(){s.minFee=h(this.value),n(0,s),n(2,o)}]}new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(1),n.on_destroy=n.fragment=null,n.ctx=[])}(this),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),H(this,t,O,N,s,{})}}({target:document.body})}();
